<!--ANGULAR MODULE -->
<div ng-init="launchLoader();">
	<!-- nav bar start -->
	<nav ng-if="sysToken" class="navbar navbar-inverse navbar-custom navbar-fixed-top" role="navigation">
		<div class="navbar-inverse navbar-inner m-h-30">
	        <div class="container-fluid">
	            <div>
	            	<ul class="nav navbar-nav navbar-right">
	            		<li class="dropdown gray">
	            			<h3><i class="fas fa-id-card-alt"></i> {{sessionProfileName}}</h3>
	            		</li>
	                    <li class="dropdown gray">
	                        <a class="dropdown-toggle" data-toggle="dropdown" >
	                            <i class="fas fa-user-circle fa-2x"></i> {{sessionNames}} <i class="icon-caret-down"></i>
	                        </a>
	                        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
	                          <li role="presentation">
	                                <a style="cursor: pointer;" class="clear-lazy-cache" ng-click="windows.print();fnShowHide('ruprofile', 'open')" tabindex="-1" role="menuitem"><i class="fas fa-address-card"></i> Perfil</a>
	                            </li>
	                            <li ng-if="sessionidProfile==2 || sessionidProfile==4" role="presentation">
	                                <a style="cursor: pointer;" class="clear-lazy-cache" ng-click="fnShowHide('rcprofile', 'open')" tabindex="-1" role="menuitem"><i class="icon-building"></i> Datos de la empresa</a>
	                            </li>
	                            <li role="presentation">
	                                <a style="cursor: pointer;" class="clear-lazy-cache" ng-click="fnShowHide('ruchpwd', 'open')" tabindex="-1" role="menuitem"><i class="fas fa-user-lock"></i> Cambiar clave</a>
	                            </li>
	                            <li role="presentation">
	                                <div class="divider"></div>
	                            </li>
	                            <li role="presentation">
	                                <a style="cursor: pointer;" class="clear-lazy-cache" ng-click="logout()" tabindex="-1" role="menuitem"><i class="icon-signout"></i> Salir</a>
	                            </li>
	                        </ul>
	                    </li>
	                </ul>
	            </div>
	      	</div>
	    </div>
	    <div class="jumbotron b-s-20 m-b-5">
			<div class="container-fluid">
				    <!-- Brand and toggle get grouped for better mobile display -->
				    <div class="navbar-header">
				      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				        <span class="sr-only">Toggle navigation</span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				      </button>
				      
				    </div>

				    <!-- Collect the nav links, forms, and other content for toggling -->
				    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				      <ul class="nav navbar-nav">
		                <li id="m_monitor"  class="active icon-m" ng-show="sessionidProfile!=0">
		                    <a ng-click="fnShowHide('home', 'open')"> 
		                        <i class="icon-dashboard icon-4x"></i>
		                        <br>Monitor de pedidos
		                    </a>
		              	</li>
				        <li id="m_pedidos" class="dropdown" class="">
				          <a class="dropdown-toggle icon-m" data-toggle="dropdown"><i style="margin-left: -0.4em;" class="icon-file-text icon-4x"></i><br>Pedidos <b class="caret"></b></a>
					        <ul class="dropdown-menu">
			                	<li ng-show="sessionidProfile!=2" class="dropdown-header">Llaveros</li>
			                    <li ng-show="sessionidProfile!=2"><a ng-click="fnShowHide('rukeyup', 'open')"  class="dropItemTitle"><i class="glyphicon glyphicon-upload"></i> Alta</a></li>
			                    <li ng-show="sessionidProfile!=2"><a ng-click="fnShowHide('rukeydown', 'open')"  class="dropItemTitle"><i class="glyphicon glyphicon-download"></i> Baja</a></li>
			                	<li ng-show="sessionidProfile!=2" class="divider"></li>
				                <li ng-show="sessionidProfile==1 || sessionidProfile==2 || sessionidProfile==4" class="cms">
				                    <a ng-click="fnShowHide('ruservice', 'open')" ><i class="glyphicon icon-wrench"></i> Servicio Tecnico</a>
				                </li>
				                <li ng-show="sessionidProfile!=1" class="cms"> <!--class="im active"-->
				                    <a ng-click="fnShowHide('ruother', 'open')" ><i class="glyphicon glyphicon-envelope"></i> Otras Consultas</a>
				                </li>
				                <li ng-show="sessionidProfile!=2" class="cms"> <!--class="im active"-->
				                    <a ng-click="fnShowHide('frmcost', 'open')" ><i class="glyphicon icon-dollar"></i> Costos</a>
				                </li>
					        </ul>
				        </li>
			            <li id="m_depto" ng-show="sessionidProfile!=2" class="icon-m">
			                <a ng-click="fnShowHide('managedepto', 'open')"> 
			                    <i class="icon-building icon-4x"></i>
			                    <br>Gestion de Edificio
			                </a>
			            </li>
			              <!--<li id="m_user" ng-show="sessionidProfile==1 || sessionidProfile==4">
			                 <a href="#Usuarios" ng-click="fnShowHide('user', 'open')"> 
			                    <i class="icon-group"></i>
			                    <br>Gestion de inquilinos
			                 </a>
			              </li>-->
		               	<li id="m_config" ng-show="sessionidProfile==1" class="icon-m">
		                 	<a  ng-click="fnShowHide('sysConfig', 'open')"> 
		                    <i style="margin-left: -0.4em" class="icon-cogs icon-4x"></i>
		                    <br>Configuracion
		                 	</a>
		              	</li>
		              	<li id="m_contact" class="icon-m">
		                 	<a ng-click="fnShowHide('frmcontact', 'open')"> 
			                    <i style="margin-left: -0.4em" class="icon-phone icon-4x"></i>
			                    <br><span>Contacto</span>
		                 	</a>
		              	</li>
				      </ul>

				      <!--<ul class="nav navbar-nav navbar-right">
				        <li><a href="#">Link</a></li>
				        <li class="dropdown">
				          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
				          <ul class="dropdown-menu">
				            <li><a href="#">Action</a></li>
				            <li><a href="#">Another action</a></li>
				            <li><a href="#">Something else here</a></li>
				            <li class="divider"></li>
				            <li><a href="#">Separated link</a></li>
				          </ul>
				        </li>
				      </ul>-->
				    </div><!-- /.navbar-collapse -->
			</div><!-- /.container-fluid -->
		</div>
	</nav>
	<!-- //nav bar end -->
	<main role="main" class="main_container" ng-if="sysToken" ng-init="sysLoadLStorage(); CallFilterFormU(); CallFilterFormT(); getAllAddress(sessionIdAddress); getParameter(); checkBefore2Load(); listUserDepto(null, sessionIdAddress); getAllDeparment(sessionIdAddress); fnLoadPhoneMask(); ">
			<!--REQUEST FORM FOR REGISTERED USERS -->
			<div ng-show="ruprofile" ng-include="'views/user/profileUser.html'"></div>
			<div ng-if="userManage" ng-include="'views/user/manageUser.html'"></div>
			<div ng-if="rudepto" ng-include="'views/depto/frmDepartment.html'"></div>
			<div ng-if="rukeyup" ng-include="'views/tickets/altaLlave.html'"></div>
			<div ng-if="rukeydown" ng-include="'views/tickets/bajaLlave.html'"></div>
			<div ng-if="ruservice" ng-include="'views/tickets/frmServicio.html'"></div>
			<div ng-if="ruother" ng-include="'views/tickets/frmOtrasConsultas.html'"></div>
			<div ng-show="rusysconfig" ng-include="'views/system/formConfig.html'"></div>
			<div ng-if="rucontact" ng-include="'views/contact/formContact.html'"></div>
			<div ng-if="rucost" ng-include="'views/tickets/formCost.html'"></div>
			<div ng-show="home" ng-include="'views/monitor/monitor.html'" class="ng-scope" style="width: 100%;"></div>
			<!--//REQUEST FORM FOR NO REGISTERED USERS -->

		    <!-- USER REGISTER FORM -->
			<div id="RegisterModalUser" class="modal fade bd-example-modal-lg" style="top: 130px;" role="dialog">
			  	<div class="modal-dialog modal-lg" >
				    <div class="modal-content">
		              	<div class="modal-header">
		              		<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></span><span class="sr-only">Close</span></button>
		                	<h3 class="modal-title">NUEVO USUARIO</h3>
		            	</div>
		        		<div class="modal-body"  style="overflow-y: scroll;">
							<!-- FORM CONTAINER-->
		    				<form class="form-horizontal" name="fNewUser" ng-init="CallFilterFormU(); CallFilterFormT(); getTypeAttendant(); getAllAddress();" novalidate>
								<fieldset>
								<!-- Select profile -->
								<div class="form-group col-md-12" ng-if="sessionidProfile==1"> 
								  <label style="padding-left: 15px;">Perfil</label>
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
									    		<span class="input-group-addon"><i class="fas fa-address-card"></i></span>
										    	<select name="idProfileKf" class="form-control" ng-change="sysReg.idTypeAttKf=null; sysRegidCompanyKf.selected=undefine; sysRegIdAddressKf.selected=undefine; sysReg.idDepartmentKf=null;"   ng-options="item.idProfile as item.nameProfile for item in listProfile" ng-model="sysReg.idProfileKf" required autofocus >
											    	<option value="">Seleccione una opcion</option>
										    	</select>
									  	</div>
									</div>
								</div>
								<!-- Company List-->
								      
								<div class="form-group col-md-12" ng-show="sysReg.idProfileKf==2 || sysReg.idProfileKf==4 || sysReg.idProfileKf==6" >  
								  <label ng-if="sysReg.idProfileKf!=2 && sysReg.idProfileKf!=4" style="padding-left: 15px;">Empresa / Administracion</label>
								  <label ng-if="sysReg.idProfileKf==2" style="padding-left: 15px;">Empresa</label>
								  <label ng-if="sysReg.idProfileKf==4" style="padding-left: 15px;">Administracion</label>
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
					                      <span class="input-group-addon"><i class="icon-suitcase"></i></span>
					                        <ui-select name="idCompanyKf" ng-required="sysReg.idProfileKf==2 || sysReg.idProfileKf==4" ng-model="sysRegidCompanyKf.selected" on-select="onSelectCallback()" ng-change="sysReg.idProfileKf!=1 || sysReg.idProfileKf!=3 || sysReg.idProfileKf!=5?officeListByCompnayID(sysRegidCompanyKf.selected.idCompany):''; sysReg.idDepartmentKf=null;">
					                          <ui-select-match allow-clear="true" placeholder="Todos" >{{$select.selected.nameCompany}}</ui-select-match>
					                            <ui-select-choices repeat="item in listCompany | filter: $select.search">
					                              <div ng-bind-html="item.nameCompany | highlight: $select.search"></div>
					                                <small ng-bind-html="item.mail_admin | highlight: $select.search"></small>
					                            </ui-select-choices>
					                            <ui-select-no-choice>
												    No hay resultados, contacte area de soporte.
											  	</ui-select-no-choice>
					                        </ui-select>
					                    </div>
								  	</div>
								</div>
								<!-- Select Type of Attendant -->					  
								<div class="form-group col-md-12" ng-show="sysReg.idProfileKf==6 && sysRegidCompanyKf.selected.idCompany" >  
								  	<label style="padding-left: 15px;">Tipo de Encargado</label>
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
							    			<select name="idTypeAttKf" class="form-control" ng-options="item.idTyepeAttendant as item.nameTypeAttendant for item in listTypeAttendant" ng-change="sysReg.idAddressKf=null; sysReg.idDepartmentKf=null; sysReg.password1=null; sysReg.password2=null;" ng-model="sysReg.idTypeAttKf" ng-required="sysReg.idProfileKf==6" autofocus />
							    		</div>
							    	</div>
								</div>
								<!-- Other Attendant Function -->
					            <div ng-show="sysReg.idTypeAttKf!=1 && sysReg.idTypeAttKf" class="form-group">
					              <label class="col-md-3 control-label">Seleccione una opcion:</label>  
					                <div class="col-md-9">
					                  	<div class="">
										    <label class="col-md-3">
										  		<input type="radio" name="ownerOption" ng-click="sysReg.idDepartmentKf=null" value="1" ng-model="att.ownerOption" ng-required="sysReg.idProfileKf==6 && sysReg.idTypeAttKf!=1" autofocus>
											  		<code >Propietario</code>
									  		</label>
									  	</div>
									  	<div class="">
									  		<label class="col-md-3">
										  		<input type="radio" name="ownerOption" ng-click="sysReg.idDepartmentKf=null" value="2" ng-model="att.ownerOption" ng-required="sysReg.idProfileKf==6 && sysReg.idTypeAttKf!=1" autofocus>
											  		<code>Habitante</code>
									  		</label>
									  	</div>
									  	<div class=""> 
						                    <label class="col-md-3">
										  		<input type="radio" name="ownerOption" ng-click="sysReg.idDepartmentKf=null" value="3" ng-model="att.ownerOption" ng-required="sysReg.idProfileKf==6 && sysReg.idTypeAttKf!=1" autofocus>
											  		<code>Solo encargado</code>
									  		</label> 
					                  	</div>
					                </div>
					            </div>
								<!-- List Address For Attendant & Admins-->
								<div ng-if="(sysReg.idProfileKf==6 && sysReg.idTypeAttKf!=1)" class="form-group" ng-class="!att.ownerOption || att.ownerOption==3?'col-md-12': 'col-md-6'">
								  <label style="padding-left: 15px;">Direcci&#243n</label>  
								    <div class="col-xs-12 selectContainer">
									    <!-- ######################################################################################################### -->
									    <div class="input-group">
					                      <span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
	                                      <ui-select name="idAddressKf" 
	                                      			 ng-disabled="!companyFound" 
	                                      			 ng-required="(sysReg.idProfileKf==6 && sysReg.idTypeAttKf!=1)" 
	                                      			 ng-change="getDeparment(0,sysRegIdAddressKf.selected.idAdress); sysReg.idDepartmentKf=null; ListDpto=''" 
	                                      			 ng-model="sysRegIdAddressKf.selected" autofocus>

					                          <ui-select-match allow-clear="true" placeholder="Todos">{{$select.selected.nameAdress}}</ui-select-match>
					                            <ui-select-choices repeat="item in listOffice | filter: $select.search">
					                              <div ng-bind-html="item.nameAdress | highlight: $select.search"></div>
					                                <!--<small>Gestion: </small><small ng-bind-html="item.priceManagement | highlight: $select.search"></small>
					                                <small>Envio: </small><small ng-bind-html="item.priceShipping | highlight: $select.search"></small>-->
					                            </ui-select-choices>
					                            <ui-select-no-choice>
												    No hay resultados, contacte are de soporte.
											  	</ui-select-no-choice>
					                        </ui-select>
					                    </div>
								  </div>
								</div>
								<!-- List Address For Owner & Tenant-->
								<div ng-if="((sysReg.idProfileKf==3 || sysReg.idProfileKf==5) && !sysReg.idTypeAttKf)" class="form-group col-md-6">
								  <label style="padding-left: 15px;">Direcci&#243n</label>  
								    <div class="col-xs-12 selectContainer">
									    <!-- ######################################################################################################### -->
									    <div class="input-group">
					                      <span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
	                                      <ui-select name="idAddressKf"  
	                                      			 ng-required="((sysReg.idProfileKf==3 || sysReg.idProfileKf==5) && !sysReg.idTypeAttKf)" 
	                                      			 ng-change="getDeparment(0,sysRegIdAddressKf.selected.idAdress); sysReg.idDepartmentKf=null; ListDpto=''" 
	                                      			 ng-model="sysRegIdAddressKf.selected" autofocus>

					                          <ui-select-match allow-clear="true" placeholder="Todos">{{$select.selected.nameAdress}}</ui-select-match>
					                            <ui-select-choices repeat="item in ListAddress | filter: $select.search">
					                              <div ng-bind-html="item.nameAdress | highlight: $select.search"></div>
					                                <!--<small>Gestion: </small><small ng-bind-html="item.priceManagement | highlight: $select.search"></small>
					                                <small>Envio: </small><small ng-bind-html="item.priceShipping | highlight: $select.search"></small>-->
					                            </ui-select-choices>
					                            <ui-select-no-choice>
												    No hay resultados, contacte are de soporte.
											  	</ui-select-no-choice>
					                        </ui-select>
					                    </div>
								  </div>
								</div>
								<!-- List Department-->
								<div ng-if="((sysReg.idProfileKf==3 || sysReg.idProfileKf==5) && !sysReg.idTypeAttKf)||(sysReg.idProfileKf==6 && sysReg.idTypeAttKf!=1 && att.ownerOption>=1 && att.ownerOption!=3)" class="form-group col-md-6">
								  <label style="padding-left: 15px;">Departamento</label>  
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
									  		<select name="idDepartmentKf" 
									  				class="form-control" 
									  				ng-disabled="dptoNotFound" 
									  				ng-change="sysReg.idProfileKf==6 && att.ownerOption==1 ? deptoHasOwner(null, sysReg.idTypeAttKf, sysReg.idDepartmentKf):deptoHasOwner(sysReg.idProfileKf, null, sysReg.idDepartmentKf)"  
									  				ng-options="item.idDepartment as item.departmentFloor for item in ListDpto" 
									  				ng-required="((sysReg.idProfileKf==3 || sysReg.idProfileKf==5) && !sysReg.idTypeAttKf)||(sysReg.idProfileKf==6 && sysReg.idTypeAttKf!=1 && att.ownerOption==1)" 
									  				ng-model="sysReg.idDepartmentKf" autofocus >
											    <option value=""></option>
										    </select>
									    </div>
								  </div>
								</div>
								<div ng-if="ownerFound && (sysReg.idProfileKf==3) || ownerFound && (sysReg.idProfileKf==6 && att.ownerOption==1)" class="col-md-12">
									<div class="alert alert-danger" role="alert">
					            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>el Departamento ya tiene propietario.
				            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
											<span aria-hidden="true">&times;</span>
		  								</button>
		  							</div>
		        				</div>
								<!-- Other Attendant Type Functions -->
								<div ng-if="sysReg.idProfileKf==6 && sysReg.idTypeAttKf==1" class="form-group col-md-12">
								  <label style="padding-left: 15px;">Funcion</label>  
									  	<div class="col-xs-12">
										  	<div class="input-group">
										  		<span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
											  	<input  name="typeOtherAtt" autofocus="true" class="form-control" ng-model="sysReg.typeOtherAtt"  type="text" ng-required="sysReg.idProfileKf==6 && sysReg.idTypeAttKf==1" autofocus/>
										  	</div>
									  	</div>
								</div>
								<!-- Form First Name -->
								<div class="form-group col-md-6">
								  <label style="padding-left: 15px;">Nombre</label>  
									  <div class="col-xs-12">
										  <div class="input-group">
											  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											  <input  name="fname" autofocus="true" placeholder="Nombre" class="form-control" ng-model="sysReg.fname"  type="text" required autofocus/>
										  </div>
									  </div>
								</div>
								<!-- Form Last Name -->

								<div class="form-group col-md-6">
								  <label style="padding-left: 15px;" >Apellido</label> 
								  	<div class="col-xs-12">
										<div class="input-group">
									  		<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
									  		<input name="lname" placeholder="Apellido" class="form-control" ng-model="sysReg.lname" type="text" required autofocus />
										</div>
								  	</div>
								</div>
								<!-- Text Mail-->

								<div class="form-group col-md-12">
								 <label style="padding-left: 15px;">E-Mail</label>  
								   <div class="col-xs-12">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
									  		<input name="emailUser" ng-blur="checkEmail('emailUser'); sysReg.email=emailFound==true?'':sysReg.email" placeholder="E-Mail" class="form-control" ng-model="sysReg.email"  type="email" required autofocus />
									    </div>
								  	<br>
										<div ng-if="emailFound && sessionidProfile!=0" class="alert alert-danger" role="alert">
						            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>la direccion de correo ingresada se encuentra registrada.
					            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
												<span aria-hidden="true">&times;</span>
			  								</button>
						        		</div>
					        		</div>
								</div>
								<!-- Text Password--><!--

								<div ng-if="(sysReg.idProfileKf!=6 && !sysReg.idTypeAttKf) || (sysReg.idProfileKf==6 && sysReg.idTypeAttKf==2)" class="form-group col-md-6">
								  <label style="padding-left: 15px;">Contrase&#241a</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon">
	        							  		<i ng-show="(fNewUser.password1.$pristine && !fNewUser.password1.$dirty) || (fNewUser.password1.$valid && fNewUser.password1.$dirty && !fNewUser.password1.$valid.minlength && !fNewUser.password2.$valid)" class="glyphicon glyphicon-lock"></i>
						  						<i style="color: red;" ng-if="fNewUser.password1.$invalid && fNewUser.password1.$dirty && fNewUser.password1.$error.minlength" class="glyphicon glyphicon-lock"></i>
										  		<i ng-if="fNewUser.password1.$dirty && fNewUser.password1.$invalid && !fNewUser.password1.$error.minlength" class="glyphicon glyphicon-ok"></i>
										  		<i style="color: green;" ng-if="fNewUser.password1.$valid && fNewUser.password2.$valid" class="glyphicon glyphicon-ok"></i>
									        </span>
									  		<input id="password1" name="password1" placeholder="Contrase&#241a" aria-describedby="passwordHelpBlock1" class="form-control" ng-model="sysReg.password1" ng-minlength="8" type="password" password-confirm match-target="sysReg.password2" ng-required="(sysReg.idProfileKf!=6 && !sysReg.idTypeAttKf) || (sysReg.idProfileKf==6 && sysReg.idTypeAttKf==2)" autofocus />
									    </div>
									    <small id="passwordHelpBlock1" class="form-text text-muted">
											<span ng-if="!sysReg.password1 && !fNewUser.password1.$error.minlength" class="text-info">La clave debe contener minimo 8 caracteres alfanumericos.</span> 
											<span class="bg-warning" ng-if="fNewUser.password1.$error.minlength">Su clave no cumple con el minimo requerido</span>
											<span class="bg-success" ng-if="password1 && !fNewUser.password1.$error.minlength && fNewUser.password2.$error.match">Confirma la clave en el proximo campo</span>
											<span ></span>
										</small>
									</div>
								</div>-->
								<!-- Text Password Check--><!--

								<div ng-if="(sysReg.idProfileKf!=6 && !sysReg.idTypeAttKf) || (sysReg.idProfileKf==6 && sysReg.idTypeAttKf==2) " class="form-group col-md-6">
								  <label style="padding-left: 15px;">Confirme su Contrase&#241a</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon">
									        	<i ng-show="(fNewUser.password2.$pristine && !fNewUser.password2.$dirty) || (fNewUser.password2.$invalid.match && fNewUser.password2.$dirty && !fNewUser.password2.$valid.minlength && !fNewUser.password1.$valid)" class="glyphicon glyphicon-lock"></i>
										  		<i style="color: red;" ng-if="fNewUser.password2.$invalid && fNewUser.password2.$dirty && fNewUser.password2.$error.minlength" class="glyphicon glyphicon-lock"></i>
										  		<i ng-if="fNewUser.password2.$dirty && fNewUser.password2.$invalid && !fNewUser.password2.$error.minlength" class="glyphicon glyphicon-ok"></i>
										  		<i style="color: green;" ng-if="fNewUser.password1.$valid && fNewUser.password2.$valid" class="glyphicon glyphicon-ok"></i>
									        </span>
									  		<input id="password2" name="password2" ng-change="fnValidatePwd()" placeholder="Confirme su Contrase&#241a" aria-describedby="passwordHelpBlock2" class="form-control" ng-minlength="8" ng-model="sysReg.password2" type="password" password-confirm match-target="sysReg.password1" ng-required="(sysReg.idProfileKf!=6 && !sysReg.idTypeAttKf) || (sysReg.idProfileKf==6 && sysReg.idTypeAttKf==2)" autofocus />
									    </div>
									    <small  id="passwordHelpBlock2" class="form-text text-muted">
											<span ng-if="!sysReg.password2 && !fNewUser.password2.$error.minlength" class="text-info">La clave debe contener minimo 8 caracteres alfanumericos.</span> 
											<span class="bg-warning" ng-if="fNewUser.password2.$error.minlength">Su clave no cumple con el minimo requerido</span>
											<span class="bg-danger" ng-show="fNewUser.password2.$error.match && !fNewUser.password2.$error.minlength && sysReg.password2">Las claves no coinciden, por favor verificar.</span>
										</small>
									</div>
								</div>-->
								<!-- Text Phone-->
								       
								<div class="form-group col-md-6">
								  <label style="padding-left: 15px;">Telefono Fijo</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
									  		<input name="phoneLocal" ng-minlength="8" class="form-control input--local" ng-model="sysReg.phonelocalNumberUser" type="text" autofocus ng-required="sysReg.phoneMovilNumberUser==''" />
									    </div>
								  </div>
								</div>
								<!-- Text Phone-->
								       
								<div class="form-group col-md-6">
								  <label style="padding-left: 15px;">Telefono Movil</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
									  		<input name="phoneMovil" ng-minlength="8" class="form-control input--movil" ng-model="sysReg.phoneMovilNumberUser"  type="text" ng-required="sysReg.phonelocalNumberUser==''" autofocus />
									    </div>
								  </div>
								</div>

								</fieldset>
							</form>
							<div class="clearfix"> </div> 
						</div>
						<!-- Actions Button -->
			            <div class="modal-footer">
			                <div class="row">
			                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
			                        <button type="submit" ng-click="sysRegisterFn()" ng-disabled="fNewUser.$invalid || ownerFound || emailFound" class="btn btn-labeled btn-success">
			                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Enviar</button>
			                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
			                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
			                    </div>
			                </div>
			            </div>
					</div>
				</div>
			</div>
			<!-- // USER REGISTER FORM -->
			<!-- USER UPDATE FORM -->
			<div id="UpdateModalUser" class="modal fade bd-example-modal-lg" style="top: 130px;" role="dialog">
			  	<div class="modal-dialog modal-lg" >
				    <div class="modal-content">
		              	<div class="modal-header">
		              		<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></span><span class="sr-only">Close</span></button>
		                	<h3 class="modal-title">MODIFICAR USUARIO</h3>
		            	</div>
		        		<div class="modal-body"  style="overflow-y: scroll;">
							<!-- FORM CONTAINER-->
		    				<form class="form-horizontal" name="fUpdateUser" ng-init="CallFilterFormU(); CallFilterFormT(); getTypeAttendant(); getAllAddress();" novalidate>
								<fieldset>
								<!-- Select profile -->
								<div class="form-group col-md-12" ng-if="sessionidProfile==1"> 
								  <label style="padding-left: 15px;">Perfil</label>
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
									    		<span class="input-group-addon"><i class="fas fa-address-card"></i></span>
										    	<select name="idProfileKf" class="form-control" ng-change="sysCheckProfile(tmp.idProfileKf);"   ng-options="item.idProfile as item.nameProfile for item in listProfile" ng-model="tmp.idProfileKf" required autofocus >
											    	<option value="">Seleccione una opcion</option>
										    	</select>
									  	</div>
									</div>
								</div>
								<!-- Company List-->
								      
								<div class="form-group col-md-12" ng-show="tmp.idProfileKf==2 || tmp.idProfileKf==4 || tmp.idProfileKf==6" >  
								  <label ng-if="tmp.idProfileKf!=2 && tmp.idProfileKf!=4" style="padding-left: 15px;">Empresa / Administracion</label>
								  <label ng-if="tmp.idProfileKf==2" style="padding-left: 15px;">Empresa</label>
								  <label ng-if="tmp.idProfileKf==4" style="padding-left: 15px;">Administracion</label>
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
					                      <span class="input-group-addon"><i class="icon-suitcase"></i></span>
					                        <ui-select name="idCompanyKf" ng-required="tmp.idProfileKf==2 || tmp.idProfileKf==4" ng-model="sysUpdateidCompanyKf.selected" on-select="onSelectCallback()" ng-change="tmp.idProfileKf!=1 || tmp.idProfileKf!=3 || tmp.idProfileKf!=5?officeListByCompnayID(sysUpdateidCompanyKf.selected.idCompany):''; sysUpdate.idDepartmentKf=null;">
					                          <ui-select-match allow-clear="true" placeholder="Todos" >{{$select.selected.nameCompany}}</ui-select-match>
					                            <ui-select-choices repeat="item in listCompany | filter: $select.search">
					                              <div ng-bind-html="item.nameCompany | highlight: $select.search"></div>
					                                <small ng-bind-html="item.mail_admin | highlight: $select.search"></small>
					                            </ui-select-choices>
					                            <ui-select-no-choice>
												    No hay resultados, contacte area de soporte.
											  	</ui-select-no-choice>
					                        </ui-select>
					                    </div>
								  	</div>
								</div>
								<!-- Select Type of Attendant -->					  
								<div class="form-group col-md-12" ng-show="tmp.idProfileKf==6 && sysUpdateidCompanyKf.selected.idCompany" >  
								  	<label style="padding-left: 15px;">Tipo de Encargado</label>
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
							    			<select name="idTypeAttKf" class="form-control" ng-options="item.idTyepeAttendant as item.nameTypeAttendant for item in listTypeAttendant" ng-change="sysUpdate.idAddressKf=null; sysUpdate.idDepartmentKf=null; sysUpdate.password1=null; sysUpdate.password2=null;" ng-model="sysUpdate.idTypeAttKf" ng-required="tmp.idProfileKf==6" autofocus />
							    		</div>
							    	</div>
								</div>
								<!-- Other Attendant Function -->
					            <div ng-show="tmp.idProfileKf==6 && sysUpdate.idTypeAttKf" class="form-group">
					              <label class="col-md-3 control-label">Encargado:</label>  
					                <div class="col-md-9">
					                  	<div class="">
										    <label class="col-md-3">
										  		<input type="radio" name="ownerOption" ng-click="sysUpdate.idDepartmentKf=null; sysCheckProfile(tmp.idProfileKf);" value="1" ng-model="att.ownerOption" ng-required="tmp.idProfileKf==6 && sysUpdate.idTypeAttKf!=1" autofocus>
											  		<code >Propietario</code>
									  		</label>
									  	</div>
									  	<div class="">
									  		<label class="col-md-3">
										  		<input type="radio" name="ownerOption" ng-click="sysUpdate.idDepartmentKf=null; sysCheckProfile(tmp.idProfileKf);" value="2" ng-model="att.ownerOption" ng-required="tmp.idProfileKf==6 && sysUpdate.idTypeAttKf!=1" autofocus>
											  		<code>Habitante</code>
									  		</label>
									  	</div>
									  	<div class=""> 
						                    <label class="col-md-3">
										  		<input type="radio" name="ownerOption" ng-click="sysUpdate.idDepartmentKf=null; sysCheckProfile(tmp.idProfileKf);" value="3" ng-model="att.ownerOption" ng-required="tmp.idProfileKf==6 && sysUpdate.idTypeAttKf!=1" autofocus>
											  		<code>Solo encargado</code>
									  		</label> 
					                  	</div>
					                </div>
					            </div>
								<!-- List Address For Attendant-->
								<div ng-if="(tmp.idProfileKf==6 && sysUpdate.idTypeAttKf!=1)" class="form-group " ng-class="(tmp.idProfileKf==6 && sysUpdate.idTypeTenantKf && dptoNotFound) || (tmp.idProfileKf==6 && profileHasChange)?'col-md-12':'col-md-6' " >
								  <label style="padding-left: 15px;">Direcci&#243n</label>  
								    <div class="col-xs-12 selectContainer">
									    <!-- ######################################################################################################### -->
									    <div class="input-group">
					                      <span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
	                                      <ui-select name="idAddressKf" ng-disabled="!companyFound" ng-required="(tmp.idProfileKf==6 && sysUpdate.idTypeAttKf!=1)" ng-change="getDeparment(0,sysUpdateIdAddressKf.selected.idAdress); sysUpdate.idDepartmentKf=null; ListDpto=''" ng-model="sysUpdateIdAddressKf.selected" autofocus>

					                          <ui-select-match allow-clear="true" placeholder="Todos">{{$select.selected.nameAdress}}</ui-select-match>
					                            <ui-select-choices repeat="item in listOffice | filter: $select.search">
					                              <div ng-bind-html="item.nameAdress | highlight: $select.search"></div>
					                                <!--<small>Gestion: </small><small ng-bind-html="item.priceManagement | highlight: $select.search"></small>
					                                <small>Envio: </small><small ng-bind-html="item.priceShipping | highlight: $select.search"></small>-->
					                            </ui-select-choices>
					                            <ui-select-no-choice>
												    No hay resultados, contacte area de soporte.
											  	</ui-select-no-choice>
					                        </ui-select>
					                    </div>
								  </div>
								</div>
								<!-- List Address For Tenant-->
								<div ng-if="((tmp.idProfileKf==3 || tmp.idProfileKf==5) && !sysUpdate.idTypeAttKf)" class="form-group" ng-class="tmp.idProfileKf==3 && !profileHasChange?'col-md-12':'col-md-6'">
								  <label style="padding-left: 15px;">Direcci&#243n</label>  
								    <div class="col-xs-12 selectContainer">
									    <!-- ######################################################################################################### -->
									    <div class="input-group">
					                      <span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
	                                      <ui-select name="idAddressKf"  ng-required="tmp.idProfileKf==3 || tmp.idProfileKf==5" ng-change="getDeparment(0,sysUpdateIdAddressKf.selected.idAdress); sysUpdate.idDepartmentKf=null; ListDpto=''" ng-model="sysUpdateIdAddressKf.selected" autofocus>

					                          <ui-select-match allow-clear="true" placeholder="Todos">{{$select.selected.nameAdress}}</ui-select-match>
					                            <ui-select-choices repeat="item in ListAddress | filter: $select.search">
					                              <div ng-bind-html="item.nameAdress | highlight: $select.search"></div>
					                                <!--<small>Gestion: </small><small ng-bind-html="item.priceManagement | highlight: $select.search"></small>
					                                <small>Envio: </small><small ng-bind-html="item.priceShipping | highlight: $select.search"></small>-->
					                            </ui-select-choices>
					                            <ui-select-no-choice>
												    No hay resultados, contacte area de soporte.
											  	</ui-select-no-choice>
					                        </ui-select>
					                    </div>
								  </div>
								</div>
								<!-- List Department-->
								<div ng-if="sysUpdateIdAddressKf.selected.idAdress && (tmp.idProfileKf==5 || (tmp.idProfileKf==6 && sysUpdate.idTypeTenantKf) || (att.ownerOption==2 && profileHasChange) || (tmp.idProfileKf==3 && profileHasChange))" class="form-group col-md-6">
								  <label style="padding-left: 15px;">Departamento</label>  
								    <div class="col-xs-12 selectContainer">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
									  		<select name="idDepartmentKf" class="form-control" ng-disabled="dptoNotFound" ng-change="tmp.idProfileKf==6 && sysUpdate.idTypeTenantKf==1?preCheckDeptoHasOwner(sysUpdate.idTypeAttKf, sysUpdate.idDepartmentKf): '';"  ng-options="item.idDepartment as item.departmentFloor for item in ListDpto" ng-required="((tmp.idProfileKf==5) && !sysUpdate.idTypeAttKf)||(tmp.idProfileKf==6 && sysUpdate.idTypeAttKf==2)" ng-model="sysUpdate.idDepartmentKf" autofocus >
											    <option value=""></option>
										    </select>
									    </div>
								  </div>
								</div>
								<div ng-if="!dptoNotFound && ownerFound && sessionidProfile!=0" class="col-md-12">
									<div class="alert alert-danger" role="alert">
					            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>el Departamento ya tiene propietario.
				            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
											<span aria-hidden="true">&times;</span>
		  								</button>
		  							</div>
		        				</div>
								<!-- Other Attendant Type Functions -->
								<div ng-if="tmp.idProfileKf==6 && sysUpdate.idTypeAttKf==1" class="form-group col-md-6">
								  <label style="padding-left: 15px;">Funcion</label>  
									  	<div class="col-xs-12">
										  	<div class="input-group">
										  		<span class="input-group-addon"><i class="glyphicon glyphicon-cog"></i></span>
											  	<input  name="typeOtherAtt" autofocus="true" class="form-control" ng-model="sysUpdate.typeOtherAtt"  type="text" ng-required="tmp.idProfileKf==6 && sysUpdate.idTypeAttKf==1" autofocus/>
										  	</div>
									  	</div>
								</div>
								<!-- Form First Name -->
								<div class="form-group col-md-12">
								  <label style="padding-left: 15px;">Nombre y Apellido</label>  
									  <div class="col-xs-12">
										  <div class="input-group">
											  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											  <input  name="names" autofocus="true" placeholder="Nombre y apellido" class="form-control" ng-model="sysUpdate.names"  type="text" required autofocus/>
										  </div>
									  </div>
								</div>
								<!-- Text Mail-->

								<div class="form-group col-md-12">
								 <label style="padding-left: 15px;">E-Mail</label>  
								   <div class="col-xs-12">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
									  		<input name="sysUpdateUserEmail" ng-blur="preCheckEmail('sysUpdateUserEmail', sysUpdate.email, sysUpdate.emailTmp)" placeholder="E-Mail" class="form-control" ng-model="sysUpdate.email"  type="email" required autofocus />
									    </div>
								  	<br>
										<div ng-if="emailFound && sessionidProfile!=0" class="alert alert-danger" role="alert">
						            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>la direccion de correo ingresada se encuentra registrada.
					            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
												<span aria-hidden="true">&times;</span>
			  								</button>
						        		</div>
					        		</div>
								</div>
								<!-- Text Password--><!--

								<div ng-if="(tmp.idProfileKf!=6 && !sysUpdate.idTypeAttKf) || (tmp.idProfileKf==6 && sysUpdate.idTypeAttKf==2)" class="form-group col-md-6">
								  <label style="padding-left: 15px;">Contrase&#241a</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon">
	        							  		<i ng-show="(fUpdateUser.password1.$pristine && !fUpdateUser.password1.$dirty) || (fUpdateUser.password1.$valid && fUpdateUser.password1.$dirty && !fUpdateUser.password1.$valid.minlength && !fUpdateUser.password2.$valid)" class="glyphicon glyphicon-lock"></i>
						  						<i style="color: red;" ng-if="fUpdateUser.password1.$invalid && fUpdateUser.password1.$dirty && fUpdateUser.password1.$error.minlength" class="glyphicon glyphicon-lock"></i>
										  		<i ng-if="fUpdateUser.password1.$dirty && fUpdateUser.password1.$invalid && !fUpdateUser.password1.$error.minlength" class="glyphicon glyphicon-ok"></i>
										  		<i style="color: green;" ng-if="fUpdateUser.password1.$valid && fUpdateUser.password2.$valid" class="glyphicon glyphicon-ok"></i>
									        </span>
									  		<input id="password1" name="password1" placeholder="Contrase&#241a" aria-describedby="passwordHelpBlock1" class="form-control" ng-model="sysUpdate.password1" ng-minlength="8" type="password" password-confirm match-target="sysUpdate.password2" ng-required="(sysUpdate.idProfileKf!=6 && !sysUpdate.idTypeAttKf) || (sysUpdate.idProfileKf==6 && sysUpdate.idTypeAttKf==2)" autofocus />
									    </div>
									    <small id="passwordHelpBlock1" class="form-text text-muted">
											<span ng-if="!sysUpdate.password1 && !fUpdateUser.password1.$error.minlength" class="text-info">La clave debe contener minimo 8 caracteres alfanumericos.</span> 
											<span class="bg-warning" ng-if="fUpdateUser.password1.$error.minlength">Su clave no cumple con el minimo requerido</span>
											<span class="bg-success" ng-if="password1 && !fUpdateUser.password1.$error.minlength && fUpdateUser.password2.$error.match">Confirma la clave en el proximo campo</span>
											<span ></span>
										</small>
									</div>
								</div>-->
								<!-- Text Password Check--><!--

								<div ng-if="(sysUpdate.idProfileKf!=6 && !sysUpdate.idTypeAttKf) || (sysUpdate.idProfileKf==6 && sysUpdate.idTypeAttKf==2) " class="form-group col-md-6">
								  <label style="padding-left: 15px;">Confirme su Contrase&#241a</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon">
									        	<i ng-show="(fUpdateUser.password2.$pristine && !fUpdateUser.password2.$dirty) || (fUpdateUser.password2.$invalid.match && fUpdateUser.password2.$dirty && !fUpdateUser.password2.$valid.minlength && !fUpdateUser.password1.$valid)" class="glyphicon glyphicon-lock"></i>
										  		<i style="color: red;" ng-if="fUpdateUser.password2.$invalid && fUpdateUser.password2.$dirty && fUpdateUser.password2.$error.minlength" class="glyphicon glyphicon-lock"></i>
										  		<i ng-if="fUpdateUser.password2.$dirty && fUpdateUser.password2.$invalid && !fUpdateUser.password2.$error.minlength" class="glyphicon glyphicon-ok"></i>
										  		<i style="color: green;" ng-if="fUpdateUser.password1.$valid && fUpdateUser.password2.$valid" class="glyphicon glyphicon-ok"></i>
									        </span>
									  		<input id="password2" name="password2" ng-change="fnValidatePwd()" placeholder="Confirme su Contrase&#241a" aria-describedby="passwordHelpBlock2" class="form-control" ng-minlength="8" ng-model="sysUpdate.password2" type="password" password-confirm match-target="sysUpdate.password1" ng-required="(sysUpdate.idProfileKf!=6 && !sysUpdate.idTypeAttKf) || (sysUpdate.idProfileKf==6 && sysUpdate.idTypeAttKf==2)" autofocus />
									    </div>
									    <small  id="passwordHelpBlock2" class="form-text text-muted">
											<span ng-if="!sysUpdate.password2 && !fUpdateUser.password2.$error.minlength" class="text-info">La clave debe contener minimo 8 caracteres alfanumericos.</span> 
											<span class="bg-warning" ng-if="fUpdateUser.password2.$error.minlength">Su clave no cumple con el minimo requerido</span>
											<span class="bg-danger" ng-show="fUpdateUser.password2.$error.match && !fUpdateUser.password2.$error.minlength && sysUpdate.password2">Las claves no coinciden, por favor verificar.</span>
										</small>
									</div>
								</div>-->
								<!-- Text Phone-->
								       
								<div class="form-group col-md-6">
								  <label style="padding-left: 15px;">Telefono Fijo</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
									  		<input name="phoneLocal" ng-minlength="10" class="form-control input--local" ng-model="sysUpdate.phonelocalNumberUser" type="text" autofocus ng-required="sysUpdate.phoneMovilNumberUser==''" />
									    </div>
								  </div>
								</div>
								<!-- Text Phone-->
								       
								<div class="form-group col-md-6">
								  <label style="padding-left: 15px;">Telefono Movil</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
									  		<input name="phoneMovil" ng-minlength="11" class="form-control input--movil" ng-model="sysUpdate.phoneMovilNumberUser"  type="text" ng-required="sysUpdate.phonelocalNumberUser==''" autofocus />
									    </div>
								  </div>
								</div>

								</fieldset>
							</form>
							<div class="clearfix"> </div> 
						</div>
						<!-- Actions Button -->
			            <div class="modal-footer">
			                <div class="row">
			                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
			                        <button type="submit" ng-click="sysUpdateFn()" ng-disabled="fUpdateUser.$invalid || ownerFound || emailFound" class="btn btn-labeled btn-success">
			                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Actualizar</button>
			                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
			                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
			                    </div>
			                </div>
			            </div>
					</div>
				</div>
			</div>
			<!-- // USER UPDATE FORM -->
			<!-- LIST TENANT MODAL -->
			<div id="ModalListTenant" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog">
			  	<div class="modal-dialog modal-lg" >
			    <!-- Modal content-->
				    <div class="modal-content">
				      	<div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal">&times;</button>
					        <h4 class="modal-title" ng-show="typeTenant==1">Propietarios &nbsp<button ng-click="sysFunctionsTenant('open', 'add')" ng-disabled="ownerFound==true" title="Seleccionar" class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i>Nuevo</button></h4>
						    <h4 class="modal-title" ng-show="typeTenant==2">Inquilinos &nbsp<button ng-click="sysFunctionsTenant('open', 'add')" title="Seleccionar" class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i>Nuevo</button></h4>
						    <h4 class="modal-title"  ng-show="sessionidProfile!=3 && typeTenant<0">Propietarios / Inquilinos &nbsp<button ng-click="sysFunctionsTenant('open','add')" title="Seleccionar" class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i>Nuevo</button></h4>
						    <h4 class="modal-title" ng-show="(sessionidProfile==3 || sessionidProfile==6) && typeTenant<0">Inquilinos &nbsp<button ng-click="sysFunctionsTenant('open', 'add')" title="Seleccionar" class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i> Nuevo</button></h4>
				      	</div>
				      	<div class="modal-body pre-scrollable">
	                				<table class="table  table-striped ">
					                    <thead style=" background: #4d5d6f; color: white;">
					                        <tr >
					                            <th ng-show="manageDepto==0" style="width:20px"># ID</th>
					                            <th><i class="glyphicon glyphicon-user"> </i>Nombres</th>
					                            <!--<th>Tlf Movil</th>
					                            <th>Tlf Local</th>-->
					                            <th><i class="glyphicon glyphicon-envelope"></i>Correo</th>
					                            <th><i class="glyphicon glyphicon-user"> </i>Perfil</th>
					                            <th><i class="glyphicon icon-flag"> </i> Status</th>
					                        </tr>
					                    </thead>
					                    <tbody ng-show="manageDepto==0">
					                        <tr ng-show="manageDepto==0" style="align-content: center; cursor: pointer;" data-ng-repeat="item in listTenant | filter: {idTypeTenantKf:typeTenant} ">
					                        
					                        	<td ng-show="manageDepto==0"><button ng-click="selectTenant(item); enabledNextBtn();" title="Seleccionar" class="btn btn-primary"><i class="glyphicon glyphicon-check">&nbsp</i>{{item.idUser}}</button></td>
						                        <td>{{item.fullNameUser}}</td>
						                        <!--<td>{{item.phoneNumberUser}}</td>
						                        <td>{{item.phoneLocalNumberUser}}</td>-->
						                        <td>{{item.emailUser}}</td>
						                        <td ng-if="item.idTypeTenantKf==1">Propietario</td>
						                        <td ng-if="item.idTypeTenantKf==2">Inquilino</td>
						                        <td ng-if="item.idStatusKf==1">Activo</td>
						                        <td ng-if="item.idStatusKf==0">Inactivo</td>
						                    </tr>
						                </tbody>
						                <tbody ng-show="manageDepto==1">
					                    	<tr  style="align-content: center; cursor: pointer;" data-ng-repeat="item in listTenant | orderBy : 'listIndex' ">
					                        
					                        	<td ng-show="manageDepto==0"><button ng-click="selectTenant(item); enabledNextBtn();" title="Seleccionar" class="btn btn-primary"><i class="glyphicon glyphicon-check"></i></button></td>
						                        <td>{{item.idTenant}}</td>
						                        <td>{{item.fullNameTenant}}</td>
						                        <td>{{item.phoneNumberTenant}}</td>
						                        <td>{{item.phoneNumberContactTenant}}</td>
						                        <td>{{item.emailTenant}}</td>
						                        <td ng-if="item.idTypeKf==1">Propietario</td>
						                        <td ng-if="item.idTypeKf==2">Inquilino</td>
						                        <td ng-if="item.idStatusKf==1"><label class="label label-success">Activo</label></td>
						                        <td ng-if="item.idStatusKf==2"><label class="label label-warning">Inactivo</label></td>
						                    </tr>
						                </tbody>
		            				</table>
					      		<!--<div class="modal-footer">
					        		<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					      		</div>-->
			    		</div>

			  		</div>
				</div>
			</div>
			<!-- // LIST TENANT MODAL -->

			<!-- TENANT REGISTER FORM -->
			<div id="RegisterModalTenant" class="modal fade bd-example-modal-lg" style="top: 130px;" role="dialog">
			  	<div class="modal-dialog modal-lg" >
				    <div class="modal-content">
		              	<div class="modal-header">
		              		<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></span><span class="sr-only">Close</span></button>
		                	<h3 class="modal-title">NUEVO <span ng-if="idTypeTenantKf==1">PROPIETARIO</span><span ng-if="idTypeTenantKf==2">HABITANTE</span></h3>
		            	</div>
	            		<div class="modal-body" style="overflow-y: scroll; scroll;" >
							<!-- FORM CONTAINER-->
		    				<form class="form-horizontal" name="fNewTenant" novalidate>
								<fieldset>
								<!-- Select profile -->
								   
								<div class="form-group" ng-show="sessionidProfile!=2 && sessionidProfile!=3"> 
								  <label class="col-md-4 control-label">Perfil</label>
								    <div class="col-md-6 selectContainer">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="fas fa-id-card-alt"></i></span>
											    <select name="idTypeTenantKf" class="form-control" ng-blur="!IsSystem == true ? deptoHasOwner(idTypeTenantKf, null, idDeptoKf) : null" ng-options="item.idTypeTenant as item.typeTenantName for item in lisTypeTenant " ng-model="$parent.idTypeTenantKf" ng-required="sessionidProfile!=3" autofocus >
											    	<option value=""></option>
										    	</select>
									  	</div>
									</div>
								</div>
								<!-- List Address-->
								      
								<div class="form-group" ng-show="sessionidProfile && IsSystem">
								  <label class="col-md-4 control-label">Direcci&#243n</label>  
								    <div class="col-md-6">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
									  		<select name="idAddressAtt" class="form-control" ng-change="getDeparment(0)"  ng-options="item.idAdress as item.nameAdress for item in ListAddress" ng-required="sessionidProfile && IsSystem" ng-model="select.idAddressAtt" autofocus >
											    	<option value=""></option>
										    	</select>
									    </div>
								  </div>
								</div>
								<!-- List Department by address-->
								      
								<div class="form-group" ng-show="!sessionidProfile || IsSystem">
								  <label class="col-md-4 control-label">Departamento</label>  
								    <div class="col-md-6">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
									  		<select name="idDepartmentKf" class="form-control"  ng-options="item.idDepartment as item.departmentFloor for item in ListDpto" ng-blur="IsSystem == true ? deptoHasOwner() : null" ng-model="select.idDepartmentKf" ng-required="!sessionidProfile" autofocus >
											    	<option value=""> </option>
										    	</select>
									    </div>
								  </div>
								</div>
								<!-- Form First Name -->
								<div class="form-group">
								  <label class="col-md-4 control-label">Nombres y Apellidos</label>  
									  <div class="col-md-6">
										  <div class="input-group">
											  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											  <input  name="fullNameTenant" placeholder="Nombre" class="form-control" ng-model="$parent.fullNameTenant"  type="text" ng-required="true" autofocus/>
										  </div>
									  </div>
								</div>
								<!-- Text Mail-->

								<div class="form-group">
								 <label class="col-md-4 control-label">E-Mail</label>  
								   <div class="col-md-6">
								    <div class="input-group">
								    	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
								  		<input name="emailT" placeholder="E-Mail" class="form-control" ng-blur="checkEmail('emailT')" ng-model="$parent.emailT"  type="email" ng-required="true" autofocus />
								    </div>
								  </div>
								</div>
								<!-- Text Phone-->
								       
								<div class="form-group">
								  <label class="col-md-4 control-label">Telefono Fijo</label>  
								    <div class="col-md-6">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
									  		<input name="phoneLocalT"  class="form-control input--local" ng-model="$parent.phonelocalT"  type="text" ng-required="phoneMovilT==''" autofocus />
									    </div>
								  </div>
								</div>
								<!-- Text Phone-->
								       
								<div class="form-group">
								  <label class="col-md-4 control-label">Telefono Movil</label>  
								    <div class="col-md-6">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
									  		<input name="phoneMovil"  class="form-control input--movil" ng-model="$parent.phoneMovilT"  type="text" ng-required="phonelocalT==''" autofocus />
									    </div>
								  </div>
								</div>
								<div ng-show="ownerFound && sessionidProfile!=3" class="alert alert-danger" role="alert">
				            		<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: </strong>El departamento ya posee un propietario.
				        		</div>
				        		<div ng-show="emailFound && sessionidProfile!=3" class="alert alert-danger" role="alert">
			            			<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: 	</strong>El Email se encuentra registrado, por favor verifique.
				        		</div>		
								</fieldset>
							</form>
							<div class="clearfix"> </div> 
						</div>
						<!-- Actions Button -->
			            <div class="modal-footer">
			                <div class="row">
			                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
			                        <button type="submit" ng-click="sysFunctionsTenant('search', 'add')" ng-disabled="fNewTenant.$invalid || ownerFound || emailFound" class="btn btn-labeled btn-success">
			                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Registrar</button>
			                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
			                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
			                    </div>
			                </div>
			            </div>
					</div>
				</div>
			</div>
			<!-- // TENANT REGISTER FORM -->
			<!-- UPDATE TENANT -->
			<div id="EditModalTenant" class="modal fade bd-example-modal-lg" style="top:130px;" role="dialog">
			  <div class="modal-dialog modal-lg" >
			    <div class="modal-content">
			      	<div class="modal-header">
				      	<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></span><span class="sr-only">Close</span></button>
				        <h3 class="modal-title">MODIFICAR <span  ng-if="tenant.typeTenant==2?tenant_label='HABITANTE':tenant_label='PROPIETARIO'"></span>{{tenant_label}}</h3>
			      	</div>
			      	<div class="modal-body"  style="overflow-y: scroll; scroll;">
			      <!-- FORM CONTAINER-->
				      	<form class="form-horizontal" name="fUpdateTenant" novalidate>
					        <fieldset>
					        <!-- Select profile -->   
							<div class="form-group" ng-show="sessionidProfile!=2 && sessionidProfile!=3"> 
							  <label class="col-md-4 control-label">Perfil</label>
							    <div class="col-md-6 selectContainer">
								    <div class="input-group">
								        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
										    <select name="idTypeTenantKf" class="form-control" ng-blur="deptoHasOwner(tenant.typeTenant, null, idDeptoKf);" ng-options="item.idTypeTenant as item.typeTenantName for item in lisTypeTenant " ng-model="tenant.typeTenant" ng-required="sessionidProfile!=3" autofocus >
										    	<option value=""></option>
									    	</select>
								  	</div>
								</div>
							</div>
							<!-- List Address-->      
							<div class="form-group" ng-show="!sessionidProfile">
							  <label class="col-md-4 control-label">Direcci&#243n</label>  
							    <div class="col-md-6">
								    <div class="input-group">
								        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
								  		<select name="idAddressKf" class="form-control" ng-change="getAllDeparment()"  ng-options="item.idAdress as item.nameAdress for item in ListAddress" ng-required="!sessionidProfile" ng-model="$parent.idAddressKf" autofocus >
										    	<option value=""></option>
									    	</select>
								    </div>
							  </div>
							</div>
							<!-- List Department by address-->      
							<div class="form-group" ng-show="!sessionidProfile">
							  <label class="col-md-4 control-label">Departamento</label>  
							    <div class="col-md-6">
								    <div class="input-group">
								        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
								  		<select name="idDepartmentKf" class="form-control"  ng-options="item.idDepartment as item.departmentFloor for item in ListDpto" ng-model="$parent.idDepartmentKf" ng-required="!sessionidProfile" autofocus >
										    	<option value=""> </option>
									    	</select>
								    </div>
							  </div>
							</div>
					          <!-- Form First Name -->
					          <div class="form-group">
					            <label class="col-md-4 control-label">Nombres y Apellidos</label>  
					              <div class="col-md-6">
					                <div class="input-group">
					                  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
					                  <input  name="namesTenant" placeholder="Nombre" class="form-control" ng-model="tenant.namesTenant"  type="text" ng-required=true autofocus/>
					                </div>
					              </div>
					          </div>
					          <!-- Text Mail-->

					          <div class="form-group">
					           <label class="col-md-4 control-label">E-Mail</label>  
					             <div class="col-md-6">
					              <div class="input-group">
					                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
					                <input name="emailTenant" placeholder="E-Mail" class="form-control" ng-blur="preCheckEmail('emailTenant', tenant.emailTenant, tenantData.emailUser)" ng-model="tenant.emailTenant"  type="email" ng-required=true autofocus />
					              </div>
					            </div>
					          </div>
					          <!-- Text Phone-->
					                 
					          <div class="form-group">
					            <label class="col-md-4 control-label">Telefono Fijo</label>  
					              <div class="col-md-6">
					                <div class="input-group">
					                    <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
					                  <input name="localPhoneTenant" ng-minlength="8" ng-maxlength="30" class="form-control input--local" ng-model="tenant.localPhoneTenant" ng-required="tenant.movilPhoneTenant==''"  type="text" autofocus />
					                </div>
					            </div>
					          </div>
					          <!-- Text Phone-->
					                 
					          <div class="form-group">
					            <label class="col-md-4 control-label">Telefono Movil</label>  
					              <div class="col-md-6">
					                <div class="input-group">
					                    <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
					                  <input name="movilPhoneTenant" ng-minlength="8" ng-maxlength="30" ng-required="tenant.localPhoneTenant==''" class="form-control input--movil" ng-model="tenant.movilPhoneTenant"  type="text" autofocus />
					                </div>
					            </div>
					          </div>
					          	<div ng-show="ownerFound && sessionidProfile!=3" class="alert alert-danger" role="alert">
				            		<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: </strong>El departamento ya posee un propietario.
			        			</div>
					          	<div ng-show="!tenant.typeTenant" class="alert alert-danger" role="alert">
				            		<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: </strong>Debe asignar un perfil al habitante, para poder guardar los cambios.
			        			</div>
				        		<div ng-show="emailFound && sessionidProfile!=3" class="alert alert-danger" role="alert">
			            			<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: 	</strong>El Email se encuentra registrado, por favor verifique.
				        		</div>		
					        </fieldset>
			      		</form>
				 		<div class="clearfix"> </div> 
					</div>
						<!-- Actions Button -->
		            <div class="modal-footer">
		                <div class="row">
		                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
		                        <button type="submit" ng-click="sysFunctionsTenant('search', 'edit', idDeptoKf)" ng-disabled="fUpdateTenant.$invalid || ownerFound || emailFound || !tenant.typeTenant" class="btn btn-labeled btn-success">
		                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Actualizar</button>
		                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
		                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
		                    </div>
		                </div>
		            </div>
			    </div>
			  </div>
			</div>
			<!-- // UPDATE TENANT -->
			<!-- ATTENDANT REGISTER FORM -->
			<div id="RegisterModalAtt" class="modal fade bd-example-modal-lg" style="top: 130px;" role="dialog">
			  	<div class="modal-dialog modal-lg" >
				    <div class="modal-content">
		              	<div class="modal-header">
		                	<h3 class="modal-title">NUEVO ENCARGADO<a data-dismiss="modal" title="Cerrar" class="close"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></a></h3>
		            	</div>
	            		<div class="modal-body" style="overflow-y: scroll;">
							<!-- FORM CONTAINER-->
		    				<form class="form-horizontal" name="fNewAtt" novalidate>
								<fieldset>
								<!-- Company Name-->    
								<div class="form-group">
								  <label class="col-md-4 control-label">Administracion</label>
								    <div class="col-md-4">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="icon-suitcase"></i></span>
									  		<input ng-show="sessionidProfile!=1" name="CompanyName"  disabled class="form-control" ng-model="$parent.CompanyName" />

									  		<select ng-show="sessionidProfile==1" name="idCompanyKf" class="form-control" ng-change="officeListByCompnayID(); CallFilterFormT(); select.idAddressAtt=null"  ng-options="item.idCompany as item.nameCompany for item in listCompany" ng-disabled="disabledSelect" ng-required="sessionidProfile==1" ng-model="select.idCompanyKf"  >
											    	<option value="">Seleccione una opcion</option>
										    </select>
									    </div>
								  	</div>
								</div>
								<!-- List Address For Admins-->    
								<div class="form-group" ng-show="sessionidProfile!=3">
								  <label class="col-md-4 control-label">Direccion de Consorcio</label>   
								    <div class="col-md-4">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
									  		<select name="idAddressAtt" ng-disabled="!select.idCompanyKf || disabledSelect" class="form-control" ng-change="enabledNextBtn();"  ng-options="item.idAdress as item.nameAdress for item in listOffice" ng-required="sessionidProfile!=3" ng-model="select.idAddressAtt" autofocus >
											    <option value="">Seleccione una opcion</option>
										    	</select>
									    </div>
								  </div>
								</div>
								<!-- List type of Attendant-->    
								<div class="form-group" ng-show="sessionidProfile!=3">
								  <label class="col-md-4 control-label">Tipo de Encargado</label>   
								    <div class="col-md-4">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
									  		<select name="idTypeAttKf" ng-disabled="!select.idAddressAtt" class="form-control" ng-change="getDeparment(0, select.idAddressAtt);"  ng-options="item.idTyepeAttendant as item.nameTypeAttendant for item in listTypeAttendant" ng-required="sessionidProfile!=3" ng-model="tmp.idTypeAttTmp" autofocus >
											    <option value="">Seleccione una opcion</option>
										    	</select>
									    </div>
								  </div>
								</div>
					            <!-- Other Attendant Function -->
					            <div ng-show="tmp.idTypeAttTmp!=1 && tmp.idTypeAttTmp" class="form-group">
					              <label class="col-md-4 control-label">Seleccione una opcion:</label>  
					                <div class="col-md-8">
					                  	<div class="input-group">
										    <label class="col-xs-12">
										  		<input type="radio" name="ownerOption" ng-click="att.idDepartmentKf=null" value="1" ng-model="att.ownerOption" ng-required="tmp.idTypeAttTmp!=1" autofocus>
											  		<code >Propietario</code>
									  		</label>
									  	</div>
									  	<div class="input-group">
									  		<label class="col-xs-12">
										  		<input type="radio" name="ownerOption" ng-click="att.idDepartmentKf=null" value="2" ng-model="att.ownerOption" ng-required="tmp.idTypeAttTmp!=1" autofocus>
											  		<code>Habitante</code>
									  		</label>
									  	</div>
									  	<div class="input-group"> 
						                    <label class="col-xs-12">
										  		<input type="radio" name="ownerOption" ng-click="att.idDepartmentKf=null" value="3" ng-model="att.ownerOption" ng-required="tmp.idTypeAttTmp!=1" autofocus>
											  		<code>Solo encargado</code>
									  		</label> 
					                  	</div>
					                </div>
					            </div>
					            <!-- Other Attendant Function --><!--
					            <div ng-show="att.ownerOption==2" class="form-group">
					              <label class="col-md-4 control-label">Requiere Acceso:</label>  
					                <div class="col-md-4">
					                  <div class="input-group">
									    <label class="col-xs-6">
									  		<input type="radio" name="accessOption" ng-click="att.idDepartmentKf=null" value="1" ng-model="att.accessOption" ng-required="att.ownerOption==2" autofocus>
										  		<code >Si</code>
								  		</label> 
								  		<label class="col-xs-6">
									  		<input type="radio" name="accessOption" ng-click="att.idDepartmentKf=null" value="2" ng-model="att.accessOption" ng-required="att.ownerOption==2" autofocus>
										  		<code>No</code>
								  		</label> 
					                    
					                  </div>
					                </div>
					            </div>-->
								  <!-- Select Department -->
								<div ng-show="sessionidProfile!=3 && tmp.idTypeAttTmp!=1 && tmp.idTypeAttTmp && att.ownerOption>=1 && att.ownerOption!=3" class="form-group"> 
								  <label class="col-md-4 control-label">Departamento</label>
								    <div class="col-md-4 selectContainer">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
									        <select 
									        	ng-model="att.idDepartmentKf" 
									        	ng-change="att.ownerOption==1?deptoHasOwner(null, tmp.idTypeAttTmp,att.idDepartmentKf):'';" 
									        	class="form-control" 
									        	ng-options="x.idDepartment as x.departmentFloor for x in ListDpto" 
									        	ng-required="tmp.idTypeAttTmp!=1 && att.ownerOption==1" 
									        	autofocus >
									        	<option value="" >Seleccione una opcion</option>
										    </select>
									  	</div>
									</div>
								</div>
					            <!-- Other Attendant Function -->
					            <div ng-show="tmp.idTypeAttTmp==1" class="form-group">
					              <label class="col-md-4 control-label">Función</label>  
					                <div class="col-md-4">
					                  <div class="input-group">
					                    <span class="input-group-addon"><i class="glyphicon glyphicon-tag"></i></span>
					                    <input  name="descOther" placeholder="Funcion que realiza" class="form-control" ng-model="att.descOther"  type="text" ng-required="tmp.idTypeAttTmp==1" autofocus/>
					                  </div>
					                </div>
					            </div>
								<!-- Form First Name -->
								<div class="form-group">
								  <label class="col-md-4 control-label">Nombres y Apellidos</label>  
									  <div class="col-md-4">
										  <div class="input-group">
											  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											  <input  name="fullNamesAtt" ng-blur="att.ownerOption==1 ? deptoHasOwner(null, tmp.idTypeAttTmp,att.idDepartmentKf) : null;" placeholder="Nombre" class="form-control" ng-model="att.fullNamesAtt"  type="text" ng-required="true" autofocus/>
										  </div>
									  </div>
								</div>
								<!-- Text Mail-->

								<div class="form-group">
								 <label class="col-md-4 control-label">E-Mail</label>  
								   <div class="col-md-4">
								    <div class="input-group">
								    	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
								  		<input name="emailAtt" placeholder="E-Mail" class="form-control" ng-model="att.emailAtt" ng-blur="checkEmail('emailAtt')" type="email" ng-required="(tmp.idTypeAttTmp!=1 && att.ownerOption) || att.idDepartmentKf" autofocus />
								    </div>
								  </div>
								</div>
								<!-- Text Phone-->
								       
								<div class="form-group">
								  <label class="col-md-4 control-label">Telefono Fijo</label>  
								    <div class="col-md-4">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
									  		<input name="phoneLocalAtt" placeholder="1112345678" ng-keydown="fnLoadPhoneMask()" class="form-control input--local" ng-model="att.phonelocalAtt" ng-required="!att.phoneMovilAtt"  type="text" autofocus />
									    </div>
								  </div>
								</div>
								<!-- Text Phone-->
								       
								<div class="form-group">
								  <label class="col-md-4 control-label">Telefono Movil</label>  
								    <div class="col-md-4">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
									  		<input name="phoneMovilAtt" placeholder="91112345678" ng-keydown="fnLoadPhoneMask()" class="form-control input--movil" ng-model="att.phoneMovilAtt" ng-required="!att.phonelocalAtt"  type="text" autofocus />
									    </div>
								  </div>
								</div>
								<!-- Text Phone-->    
								<!--<div class="form-group">
								  <label class="col-md-4 control-label">Hora de Trabajo</label>  
								    <div class="col-md-4">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
											<input type="time"  name="att.hoursWork" placeholder="HH:mm" min="00:00" max="23:00" class="form-control" ng-model="att.hoursWork" aria-showingpicker="false" tabindex="0">
									    </div>
								  </div>
								</div>-->
								<div ng-show="ownerFound && sessionidProfile!=3 && IsAttendant && tmp.idTypeAttTmp!=1 && att.ownerOption==1" class="alert alert-danger" role="alert">
			            		<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: 	</strong>La porteria o departamento, ya posee un Propietario/Encargado Titular.
				        		</div>		
				        		<div ng-show="emailFound && sessionidProfile!=3" class="alert alert-danger" role="alert">
			            		<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: 	</strong>El Email se encuentra registrado, por favor verifique.
				        		</div>	
								</fieldset>
							</form>
					        <div class="clearfix"> </div> 
							</div>
							<!-- Actions Button -->
				            <div class="modal-footer">
				                <div class="row">
				                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
				                        <button type="submit" ng-click="sysFunctionsAtt('add')" ng-disabled="(fNewAtt.$invalid || ownerFound || emailFound) && tmp.idTypeAttTmp!=1 && att.ownerOption!=2" class="btn btn-labeled btn-success">
				                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Registrar</button>
				                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
				                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
				                    </div>
				                </div>
				            </div>
					</div>
				</div>
			</div>
			<!-- // ATTENDANT REGISTER FORM -->
			<!-- ATTENDANT UPDATE -->
			<div id="UpdateModalAtt" class="modal fade bd-example-modal-lg" style="top:130px;" role="dialog">
			  <div class="modal-dialog modal-lg" >
			    <div class="modal-content">
			      <div class="modal-header">
			        <h3 class="modal-title">MODIFICAR ENCARGADO<a data-dismiss="modal" title="Cerrar" class="close"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></a></h3>
			      </div>
			      <div class="modal-body"  style="overflow-y: scroll;">
			        <!-- FORM CONTAINER-->
			        <form class="form-horizontal" name="fUpdateAtt" novalidate>
			          <fieldset>
			            <!-- Company Name-->    
			            <div class="form-group" ng-if="sessionidProfile==1">
			              <label class="col-md-4 control-label">Administracion</label>
			                <div class="col-md-4">
			                  <div class="input-group">
			                      <span class="input-group-addon"><i class="icon-suitcase"></i></span>
			                    <select name="idCompanyKf" class="form-control" ng-change="officeListByCompnayID(); CallFilterFormT(); select.idAddressAtt=null;"  ng-options="item.idCompany as item.nameCompany for item in listCompany" ng-disabled="sessionidProfile!=1 || disabledSelect" ng-required="sessionidProfile==1" ng-model="select.idCompanyKf"  >
			                        <option value="">Seleccione una opcion</option>
			                    </select>
			                  </div>
			                </div>
			            </div>
			            <!-- List Address For Admins-->    
			            <div class="form-group" ng-if="sessionidProfile==1">
			              <label class="col-md-4 control-label">Direccion de Consorcio</label>   
			                <div class="col-md-4">
			                  <div class="input-group">
			                      <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
			                    <select name="idAddressKf" ng-disabled="sessionidProfile!=1 || disabledSelect" class="form-control" ng-options="item.idAdress as item.nameAdress for item in listOffice" ng-required="sessionidProfile!=3" ng-model="select.idAddressAtt" autofocus >
			                      	<option value="">Seleccione una opcion</option>
			                      </select>
			                  </div>
			              </div>
			            </div>
			            <!-- List type of Attendant-->    
			            <div class="form-group" ng-show="sessionidProfile!=3">
			              <label class="col-md-4 control-label">Tipo de Encargado</label>   
			                <div class="col-md-4">
			                  <div class="input-group">
			                      <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
			                    <select name="idTypeAttKf" class="form-control" ng-change="getDeparment(0, selectIdAddressKf.selected.idAdress);"  ng-options="item.idTyepeAttendant as item.nameTypeAttendant for item in listTypeAttendant" ng-required="sessionidProfile!=3" ng-model="att.idTypeAttKf" autofocus >
			                      <option value="">Seleccione una opcion</option>
			                      </select>
			                  </div>
			              </div>
			            </div>
			              <!-- Select Department -->
			            <div ng-show="sessionidProfile!=3 && att.idTypeTenantKf==2 && att.idTypeAttKf!=1" class="form-group"> 
			              <label class="col-md-4 control-label">Departamento</label>
			                <div class="col-md-4 selectContainer">
			                  <div class="input-group">
			                      <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
			                      <select ng-model="att.idDepartmentKf" ng-blur="preCheckDeptoHasOwner(att.idTypeAttKf, att.idDepartmentKf);" class="form-control" ng-options="x.idDepartment as x.departmentFloor for x in ListDpto " ng-required="att.idTypeTenantKf==2 && att.idTypeAttKf!=1" autofocus >
			                        <option value="" >Seleccione una opcion</option>
			                    </select>
			                  </div>
			              </div>
			            </div>
			            <!-- Other Attendant Function -->
			            <div ng-show="att.idTypeAttKf==1" class="form-group">
			              <label class="col-md-4 control-label">Función</label>  
			                <div class="col-md-4">
			                  <div class="input-group">
			                    <span class="input-group-addon"><i class="glyphicon glyphicon-tag"></i></span>
			                    <input  name="descOther" placeholder="Nombre" class="form-control" ng-model="att.descOther"  type="text" ng-required="att.idTypeAttKf==1" autofocus/>
			                  </div>
			                </div>
			            </div>
			            <!-- Form First Name -->
			            <div class="form-group">
			              <label class="col-md-4 control-label">Nombres</label>  
			                <div class="col-md-4">
			                  <div class="input-group">
			                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
			                    <input  name="fullNamesAtt" placeholder="Nombre" class="form-control" ng-model="att.fullNamesAtt"  type="text" required autofocus/>
			                  </div>
			                </div>
			            </div>
			            <!-- Text Mail-->

			            <div class="form-group">
			             <label class="col-md-4 control-label">E-Mail</label>  
			               <div class="col-md-4">
			                <div class="input-group">
			                  <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
			                  <input name="emailAtt" placeholder="E-Mail" class="form-control" ng-blur="preCheckEmail('emailAtt', att.emailAtt, att.emailAttTmp)" ng-model="att.emailAtt" type="email" required autofocus />
			                </div>
			              </div>
			            </div>
		                <div ng-if="emailFound && sessionidProfile!=0" class="alert alert-danger" role="alert">
		            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>la direccion de correo ingresada se encuentra registrada.
	            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
								<span aria-hidden="true">&times;</span>
								</button>
		        		</div>
			            <!-- Text Phone-->
			                   
			            <div class="form-group">
			              <label class="col-md-4 control-label">Telefono Fijo</label>  
			                <div class="col-md-4">
			                  <div class="input-group">
			                      <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
			                    <input name="LocalAtt" ng-minlength="8" class="form-control input--local" ng-model="att.phonelocalAtt"  type="text" autofocus />
			                  </div>
			              </div>
			            </div>
			            <!-- Text Phone-->
			                   
			            <div class="form-group">
			              <label class="col-md-4 control-label">Telefono Movil</label>  
			                <div class="col-md-4">
			                  <div class="input-group">
			                      <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
			                    <input name="MovilAtt" ng-minlength="8" class="form-control input--movil" ng-model="att.phoneMovilAtt"  type="text" autofocus />
			                  </div>
			              </div>
			            </div>
			            <!-- Text Phone-->    
			            <!--<div class="form-group">
			              <label class="col-md-4 control-label">Hora de Trabajo</label>  
			                <div class="col-md-4">
			                  <div class="input-group">
			                    <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
			                  <input type="time"  name="att.hoursWork" placeholder="HH:mm" min="00:00" max="23:00" class="form-control" ng-model="att.hoursWork" aria-showingpicker="false" tabindex="0">
			                  </div>
			              </div>
			            </div>-->
			            <div ng-show="ownerFound && sessionidProfile!=3 && IsAttendant && att.idTypeAttKf==2" class="alert alert-danger" role="alert">
			            		<strong><i class="glyphicon glyphicon-remove-sign">&nbsp </i>ATENCION: 	</strong>La conserjeria ya posee un Encargado Titular.
				        </div>  
			          </fieldset>
			        </form>
			        <div class="clearfix"> </div> 
					</div>
					<!-- Actions Button -->
		            <div class="modal-footer">
		                <div class="row">
		                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
		                        <button type="submit" ng-click="sysFunctionsAtt('save')" ng-disabled="fUpdateAtt.$invalid || ownerFound || emailFound" class="btn btn-labeled btn-success">
		                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Actualizar</button>
		                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
		                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
		                    </div>
		                </div>
		            </div>
			    </div>
			  </div>
			</div>
			<!-- //ATTENDANT UPDATE -->
			<!-- Modal Confirmation -->
			<div class="modal fade" id="confirmRequestModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
			  <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h5 class="modal-title" id="ModalLabel">Coferba <a  data-dismiss="modal" class="close"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"></i></a></h5>
			      </div>
			      <div class="modal-body">
			        <p style="text-align: center;">{{mess2show}}</p>
			      </div>
			      <div class="modal-footer">
			        <button type="button" ng-click="modalConfirmation(swMenu,1)" class="btn btn-success">Si</button>
			        <button type="button"  class="btn btn-danger" data-dismiss="modal" >No</button>
			      </div>
			    </div>
			  </div>
			</div>
			<!-- //Modal Confirmation -->

			<!-- Modal Password Change -->
			<div id="PasswdModalUser" style="top: 130px;" class="modal fade modal-dialog-centered" role="dialog">
	  			<div class="modal-dialog modal-md" >
				    <div class="modal-content">
		              	<div class="modal-header">
		                	<h3 class="modal-title">Cambio de Contrase&#241a<a data-dismiss="modal" data-toggle="tooltip" data-placement="top" title="Cerrar" class="close"><i  class="glyphicon glyphicon-remove-sign"> </i></a></h3>
		            	</div>
	            		<div class="modal-body">
							<!-- FORM CONTAINER-->
		    				<form class="form-horizontal" name="fChPwd" autocomplete="off" novalidate>
								<!-- New Password-->
								<div class="form-group">
								  <label class="col-xs-12">Nueva Contrase&#241a</label>  
								    <div class="col-md-12">
									    <div class="input-group">
									        <span class="input-group-addon">
										        <i ng-if="!fChPwd.pwd1.$valid && !fChPwd.pwd2.$valid" class="glyphicon glyphicon-lock"></i>
									  			<i ng-if="fChPwd.pwd1.$valid && fChPwd.pwd2.$valid" class="glyphicon glyphicon-ok"></i>
									        </span>
									  		<input placeholder="Contrase&#241a" class="form-control" aria-describedby="passwordHelpBlock" ng-model="chg.newPwd1" ng-minlength="8" type="password" name="pwd1" password-confirm match-target="chg.newPwd2" required autofocus />
									    </div>
									    <small id="passwordHelpBlock1" class="form-text text-muted">
											<span ng-if="!chg.newPwd1 && !fChPwd.pwd1.$error.minlength" class="text-info">La clave debe contener minimo 8 caracteres alfanumericos.</span> 
											<span class="bg-warning" ng-if="fChPwd.pwd1.$error.minlength">Su clave no cumple con el minimo requerido</span>
											<span class="bg-success" ng-if="chg.newPwd1 && !fChPwd.pwd1.$error.minlength && fChPwd.pwd2.$error.match">Confirma la clave en el proximo campo</span>
										</small>
									</div>
								</div>
								<!-- New Password Check-->
								<div class="form-group">
								  <label class="col-xs-12">Confirme Contrase&#241a</label>  
								    <div class="col-md-12">
									    <div class="input-group">
									        <span class="input-group-addon">
									        	<i ng-if="!fChPwd.pwd1.$valid && !fChPwd.pwd2.$valid" class="glyphicon glyphicon-lock"></i>
								  				<i ng-if="fChPwd.pwd1.$valid && fChPwd.pwd2.$valid" class="glyphicon glyphicon-ok"></i>
									        </span>
									  		<input placeholder="Confirme Contrase&#241a" name="pwd2" aria-describedby="passwordHelpBlock" class="form-control" ng-minlength="8" ng-model="chg.newPwd2" type="password" password-confirm match-target="chg.newPwd1" required autofocus />
									    </div>
										<small  id="passwordHelpBlock2" class="form-text text-muted">
											<span ng-if="!chg.newPwd2 && !fChPwd.pwd2.$error.minlength && !chg.newPwd2" class="text-info">La clave debe contener minimo 8 caracteres alfanumericos.</span> 
											<span class="bg-warning" ng-if="fChPwd.pwd2.$error.minlength">Su clave no cumple con el minimo requerido</span>
											<span ng-if="fChPwd.password1.$valid && fChPwd.pwd2.$valid"><i class="glyphicon glyphicon-ok"></i></span>
											<span class="bg-danger" ng-show="fChPwd.pwd2.$error.match && !fChPwd.pwd2.$error.minlength && chg.newPwd2">Las claves no coinciden, por favor verificar.</span>
										</small>
									</div>
								</div>
							</form>
						</div>
						<!-- Actions Button -->
			            <div class="modal-footer">
			                <div class="row">
			                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
			                        <button type="submit" ng-click="sysFunctionsUser('chgPwdUser')" ng-disabled="fChPwd.$invalid" class="btn btn-labeled btn-success">
			                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Enviar</button>
			                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
			                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
			                    </div>
			                </div>
			            </div>
					</div>
				</div>
			</div>
			<!-- //Modal Password Change -->
			<!-- USER UPDATE FORM -->
			<div id="UpdateModalCompany" class="modal fade bd-example-modal-lg" style="top: 130px;" role="dialog">
			  	<div class="modal-dialog modal-lg" >
				    <div class="modal-content">
		              	<div class="modal-header">
		              		<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"><i alt="Cerrar" class="glyphicon glyphicon-remove-sign"> </i></span><span class="sr-only">Close</span></button>
		                	<h3 class="modal-title">ACTUALIZAR EMPRESA</h3>
		            	</div>
		        		<div class="modal-body"  style="overflow-y: scroll;">
							<!-- FORM CONTAINER-->
		    				<form class="form-horizontal" name="fUpdateCompany" novalidate>
								<fieldset>
								<!-- Company Name -->
								<div class="form-group col-md-12">
								  <label style="padding-left: 15px;">Empresa</label>  
									  <div class="col-xs-12">
										  <div class="input-group">
											  <span class="input-group-addon"><i class="glyphicon icon-building"></i></span>
											  <input  name="companyName" autofocus="true" placeholder="Empresa / Administracion" class="form-control" ng-model="sysCompany.nameCompany"  type="text" readonly="true" />
										  </div>
									  </div>
								</div>
								<!-- Service Mail-->
								<div class="form-group col-md-12">
								 <label style="padding-left: 15px;">E-Mail[Servicio]</label>  
								   <div class="col-xs-12">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
									  		<input name="emailService" placeholder="Servicios" class="form-control" ng-model="sysCompany.emailService"  type="email"  autofocus />
									    </div>
								  	<br>
										<div ng-if="emailFound && sessionidProfile!=0" class="alert alert-danger" role="alert">
						            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>la direccion de correo ingresada se encuentra registrada.
					            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
												<span aria-hidden="true">&times;</span>
			  								</button>
						        		</div>
					        		</div>
								</div>
								<!-- Request Mail-->
								<div class="form-group col-md-12">
								 <label style="padding-left: 15px;">E-Mail[Pedidos]</label>  
								   <div class="col-xs-12">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
									  		<input name="emailRequest" placeholder="Pedidos" class="form-control" ng-model="sysCompany.emailRequest"  type="email"  autofocus />
									    </div>
								  	<br>
										<div ng-if="emailFound && sessionidProfile!=0" class="alert alert-danger" role="alert">
						            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>la direccion de correo ingresada se encuentra registrada.
					            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
												<span aria-hidden="true">&times;</span>
			  								</button>
						        		</div>
					        		</div>
								</div>
								<!-- Admin Mail-->
								<div class="form-group col-md-12">
								 <label style="padding-left: 15px;">E-Mail[Administrativo]</label>  
								   <div class="col-xs-12">
									    <div class="input-group">
									    	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
									  		<input name="emailAdmin" placeholder="Servicios" class="form-control" ng-model="sysCompany.emailAdmin"  type="email"  autofocus />
									    </div>
								  	<br>
										<div ng-if="emailFound && sessionidProfile!=0" class="alert alert-danger" role="alert">
						            		<strong><i class="fas fa-ban">&nbsp </i>ATENCION: </strong>la direccion de correo ingresada se encuentra registrada.
					            		  	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
												<span aria-hidden="true">&times;</span>
			  								</button>
						        		</div>
					        		</div>
								</div>
								<!--<div class="form-group col-md-6">
								  <label style="padding-left: 15px;">Telefono contacto</label>  
								    <div class="col-xs-12">
									    <div class="input-group">
									        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
									  		<input name="phoneLocal" ng-minlength="10" class="form-control input--local" ng-model="sysCompany.phonelocal" type="text" autofocus />
									    </div>
								  </div>
								</div>-->
								<h3 style="text-align: center;">Direcciones Asociadas</h3>
						      	<div class="modal-body pre-scrollable">
	                				<table class="table  table-striped ">
					                    <thead style=" background: #4d5d6f; color: white;">
					                        <tr >
					                            <th># ID</th>
					                            <th>Direccion</th>
					                            <th>Costo Gestion</th>
					                            <th>Costo Envio</th>
					                    </thead>
					                    <tbody >
					                        <tr style="align-content: center;" ng-repeat="iAddress in companyAddress">
					                        
					                        	<td>{{iAddress.idAdress}}</td>
						                        <td>{{iAddress.nameAdress}}</td>
						                        <td>{{iAddress.priceManagement}}</td>
						                        <td>{{iAddress.priceShipping}}</td>
						                    </tr>
						                </tbody>
		            				</table>
			    				</div>
								</fieldset>
							</form>
							<div class="clearfix"> </div> 
						</div>
						<!-- Actions Button -->
			            <div class="modal-footer">
			                <div class="row">
			                    <div class="col-xs-12 col-sm-12 col-md-6 pull-right">
			                        <button type="submit" ng-click="sysUpdateCompanyFn()" ng-disabled="fUpdateCompany.$invalid" class="btn btn-labeled btn-success">
			                            <span class="btn-label"><i class="glyphicon glyphicon-send"></i> </span>Actualizar</button>
			                        <a data-dismiss="modal" type="button" class="btn btn-labeled btn-danger">
			                            <span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span>Cancelar</a>
			                    </div>
			                </div>
			            </div>
					</div>
				</div>
			</div>
			<!-- // USER UPDATE FORM -->
			
	</main>
	<!-- Response Inform Meessage plugin -->
	<div inform class="inform-fixed inform-shadow inform-animate"></div>
	<!-- //Response Inform Meessage plugin -->
</div>


